{
  "id": "7cbcec68-7fa6-47bb-a38a-da689949a001",
  "revision": 0,
  "last_node_id": 200,
  "last_link_id": 316,
  "nodes": [
    {
      "id": 135,
      "type": "ConditioningZeroOut",
      "pos": [
        250,
        200
      ],
      "size": [
        240,
        26
      ],
      "flags": {
        "collapsed": false
      },
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "label": "conditioning",
          "localized_name": "conditioning",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 237
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            238
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "ConditioningZeroOut",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "ConditioningZeroOut"
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        530,
        350
      ],
      "size": [
        190,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "label": "samples",
          "localized_name": "samples",
          "name": "samples",
          "type": "LATENT",
          "link": 52
        },
        {
          "label": "vae",
          "localized_name": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 61
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            240
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "VAEDecode"
    },
    {
      "id": 35,
      "type": "FluxGuidance",
      "pos": [
        250,
        90
      ],
      "size": [
        240,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "label": "conditioning",
          "localized_name": "conditioning",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 292
        },
        {
          "localized_name": "guidance",
          "name": "guidance",
          "type": "FLOAT",
          "widget": {
            "name": "guidance"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            57
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxGuidance",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2.5
      ],
      "class_type": "FluxGuidance"
    },
    {
      "id": 186,
      "type": "MarkdownNote",
      "pos": [
        -960,
        710
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext Prompt Techniques",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "\n## Flux Kontext Prompt Techniques\n\n### 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. Style Transfer\n**Principles:**\n- Clearly name style: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. Character Consistency\n**Framework:**\n- Specific description: `\"The woman with short black hair\"` instead of \"she\"\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n### 4. Text Editing\n- Use quotes: `\"Replace 'joy' with 'BFL'\"`\n- Maintain format: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Much\n\u274c Wrong: `\"Transform the person into a Viking\"`\n\u2705 Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\n\u274c Wrong: `\"Put him on a beach\"`\n\u2705 Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Style Application Inaccuracy\n\u274c Wrong: `\"Make it a sketch\"`\n\u2705 Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-step Editing** - Break complex modifications into multiple simple steps\n3. **Explicit Preservation** - State what should remain unchanged\n4. **Verb Selection** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transfer:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency. "
      ],
      "color": "#432",
      "bgcolor": "#653",
      "class_type": "MarkdownNote"
    },
    {
      "id": 124,
      "type": "VAEEncode",
      "pos": [
        148.53250122070312,
        405.0762939453125
      ],
      "size": [
        240,
        50
      ],
      "flags": {
        "collapsed": false
      },
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "label": "pixels",
          "localized_name": "pixels",
          "name": "pixels",
          "type": "IMAGE",
          "link": 310
        },
        {
          "label": "vae",
          "localized_name": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 223
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "localized_name": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            291,
            293
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "VAEEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "VAEEncode"
    },
    {
      "id": 39,
      "type": "VAELoader",
      "pos": [
        -400,
        390
      ],
      "size": [
        337.76861572265625,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "vae_name",
          "name": "vae_name",
          "type": "COMBO",
          "widget": {
            "name": "vae_name"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "VAE",
          "localized_name": "VAE",
          "name": "VAE",
          "type": "VAE",
          "links": [
            61,
            223
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "ae.safetensors",
            "directory": "vae",
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "ae.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "class_type": "VAELoader"
    },
    {
      "id": 177,
      "type": "ReferenceLatent",
      "pos": [
        20.215356826782227,
        102.64128112792969
      ],
      "size": [
        211.60000610351562,
        46
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "label": "conditioning",
          "localized_name": "conditioning",
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 294
        },
        {
          "label": "latent",
          "localized_name": "latent",
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 293
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            292
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "ReferenceLatent",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "ReferenceLatent"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        330,
        560
      ],
      "size": [
        371.74542236328125,
        104.52478790283203
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "label": "clip",
          "localized_name": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 59
        },
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 295
        }
      ],
      "outputs": [
        {
          "label": "CONDITIONING",
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            237,
            294
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {
          "text": true
        }
      },
      "widgets_values": [
        "Using this elegant style, create a portrait of a swan wearing a pearl tiara and lace collar, maintaining the same refined quality and soft color tones.",
        [
          false,
          true
        ]
      ],
      "color": "#232",
      "bgcolor": "#353",
      "class_type": "CLIPTextEncode"
    },
    {
      "id": 198,
      "type": "PreviewImage",
      "pos": [
        668.064453125,
        787.6119995117188
      ],
      "size": [
        278.50592041015625,
        258
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 311
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "PreviewImage"
    },
    {
      "id": 42,
      "type": "FluxKontextImageScale",
      "pos": [
        -10.379434585571289,
        561.9282836914062
      ],
      "size": [
        270,
        30
      ],
      "flags": {
        "collapsed": false
      },
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 314
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            315
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxKontextImageScale",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "FluxKontextImageScale"
    },
    {
      "id": 199,
      "type": "PreviewImage",
      "pos": [
        320.07928466796875,
        1263.1246337890625
      ],
      "size": [
        439.33062744140625,
        258
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 312
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "PreviewImage"
    },
    {
      "id": 195,
      "type": "easy imageRemBg",
      "pos": [
        -33.816322326660156,
        1236.9937744140625
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 13,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 303
        },
        {
          "localized_name": "rem_mode",
          "name": "rem_mode",
          "type": "COMBO",
          "widget": {
            "name": "rem_mode"
          },
          "link": null
        },
        {
          "localized_name": "image_output",
          "name": "image_output",
          "type": "COMBO",
          "widget": {
            "name": "image_output"
          },
          "link": null
        },
        {
          "localized_name": "save_prefix",
          "name": "save_prefix",
          "type": "STRING",
          "widget": {
            "name": "save_prefix"
          },
          "link": null
        },
        {
          "localized_name": "torchscript_jit",
          "name": "torchscript_jit",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "torchscript_jit"
          },
          "link": null
        },
        {
          "localized_name": "add_background",
          "name": "add_background",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "add_background"
          },
          "link": null
        },
        {
          "localized_name": "refine_foreground",
          "name": "refine_foreground",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "refine_foreground"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "type": "IMAGE",
          "links": [
            304
          ]
        },
        {
          "label": "mask",
          "localized_name": "mask",
          "name": "mask",
          "type": "MASK"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "1.3.0",
        "Node name for S&R": "easy imageRemBg",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "BEN2",
        "Preview",
        "ComfyUI",
        false,
        "white",
        false
      ],
      "class_type": "easy imageRemBg"
    },
    {
      "id": 147,
      "type": "LoadImageOutput",
      "pos": [
        -38.40795135498047,
        781.3165283203125
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [
        {
          "localized_name": "image",
          "name": "image",
          "type": "COMBO",
          "widget": {
            "name": "image"
          },
          "link": null
        },
        {
          "localized_name": "upload",
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "widget": {
            "name": "upload"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            303
          ]
        },
        {
          "label": "MASK",
          "localized_name": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "AnimateDiff_00013.mp4 [output]",
        false,
        "refresh"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "class_type": "LoadImageOutput"
    },
    {
      "id": 194,
      "type": "easy imageRemBg",
      "pos": [
        -409.9885559082031,
        1236.59619140625
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 316
        },
        {
          "localized_name": "rem_mode",
          "name": "rem_mode",
          "type": "COMBO",
          "widget": {
            "name": "rem_mode"
          },
          "link": null
        },
        {
          "localized_name": "image_output",
          "name": "image_output",
          "type": "COMBO",
          "widget": {
            "name": "image_output"
          },
          "link": null
        },
        {
          "localized_name": "save_prefix",
          "name": "save_prefix",
          "type": "STRING",
          "widget": {
            "name": "save_prefix"
          },
          "link": null
        },
        {
          "localized_name": "torchscript_jit",
          "name": "torchscript_jit",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "torchscript_jit"
          },
          "link": null
        },
        {
          "localized_name": "add_background",
          "name": "add_background",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "add_background"
          },
          "link": null
        },
        {
          "localized_name": "refine_foreground",
          "name": "refine_foreground",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "refine_foreground"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "type": "IMAGE",
          "links": [
            302
          ]
        },
        {
          "label": "mask",
          "localized_name": "mask",
          "name": "mask",
          "type": "MASK"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "1.3.0",
        "Node name for S&R": "easy imageRemBg",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "BEN2",
        "Preview",
        "ComfyUI",
        false,
        "white",
        false
      ],
      "class_type": "easy imageRemBg"
    },
    {
      "id": 188,
      "type": "EmptySD3LatentImage",
      "pos": [
        530,
        -140
      ],
      "size": [
        310,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [
        {
          "localized_name": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": null
        },
        {
          "localized_name": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": null
        },
        {
          "localized_name": "batch_size",
          "name": "batch_size",
          "type": "INT",
          "widget": {
            "name": "batch_size"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "localized_name": "LATENT",
          "name": "LATENT",
          "type": "LATENT"
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "EmptySD3LatentImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1024,
        1024,
        1
      ],
      "class_type": "EmptySD3LatentImage"
    },
    {
      "id": 197,
      "type": "ImageResizeKJv2",
      "pos": [
        311.5012512207031,
        822.0734252929688
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 19,
      "mode": 4,
      "inputs": [
        {
          "label": "image",
          "localized_name": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 313
        },
        {
          "localized_name": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": null
        },
        {
          "localized_name": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": null
        },
        {
          "localized_name": "upscale_method",
          "name": "upscale_method",
          "type": "COMBO",
          "widget": {
            "name": "upscale_method"
          },
          "link": null
        },
        {
          "localized_name": "keep_proportion",
          "name": "keep_proportion",
          "type": "COMBO",
          "widget": {
            "name": "keep_proportion"
          },
          "link": null
        },
        {
          "localized_name": "pad_color",
          "name": "pad_color",
          "type": "STRING",
          "widget": {
            "name": "pad_color"
          },
          "link": null
        },
        {
          "localized_name": "crop_position",
          "name": "crop_position",
          "type": "COMBO",
          "widget": {
            "name": "crop_position"
          },
          "link": null
        },
        {
          "localized_name": "divisible_by",
          "name": "divisible_by",
          "type": "INT",
          "widget": {
            "name": "divisible_by"
          },
          "link": null
        },
        {
          "localized_name": "device",
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            310,
            311,
            314
          ]
        },
        {
          "label": "width",
          "localized_name": "width",
          "name": "width",
          "type": "INT"
        },
        {
          "label": "height",
          "localized_name": "height",
          "name": "height",
          "type": "INT"
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f9118e0bbb39347ea7becb84ec03e397dfb4f644",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1280,
        800,
        "nearest-exact",
        "pad",
        "255,255,255",
        "center",
        2,
        "cpu"
      ],
      "class_type": "ImageResizeKJv2"
    },
    {
      "id": 38,
      "type": "DualCLIPLoader",
      "pos": [
        -400,
        210
      ],
      "size": [
        337.76861572265625,
        130
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "clip_name1",
          "name": "clip_name1",
          "type": "COMBO",
          "widget": {
            "name": "clip_name1"
          },
          "link": null
        },
        {
          "localized_name": "clip_name2",
          "name": "clip_name2",
          "type": "COMBO",
          "widget": {
            "name": "clip_name2"
          },
          "link": null
        },
        {
          "localized_name": "type",
          "name": "type",
          "type": "COMBO",
          "widget": {
            "name": "type"
          },
          "link": null
        },
        {
          "localized_name": "device",
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "CLIP",
          "localized_name": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            59
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "DualCLIPLoader",
        "models": [
          {
            "name": "clip_l.safetensors",
            "directory": "text_encoders",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors"
          },
          {
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "clip_l.safetensors",
        "sd3/t5xxl_fp16.safetensors",
        "flux",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "class_type": "DualCLIPLoader"
    },
    {
      "id": 31,
      "type": "KSampler",
      "pos": [
        878.5037231445312,
        -133.82456970214844
      ],
      "size": [
        542.870849609375,
        602.7943115234375
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "label": "model",
          "localized_name": "model",
          "name": "model",
          "type": "MODEL",
          "link": 58
        },
        {
          "label": "positive",
          "localized_name": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 57
        },
        {
          "label": "negative",
          "localized_name": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 238
        },
        {
          "label": "latent_image",
          "localized_name": "latent_image",
          "name": "latent_image",
          "type": "LATENT",
          "link": 291
        },
        {
          "localized_name": "seed",
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": null
        },
        {
          "localized_name": "steps",
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": null
        },
        {
          "localized_name": "cfg",
          "name": "cfg",
          "type": "FLOAT",
          "widget": {
            "name": "cfg"
          },
          "link": null
        },
        {
          "localized_name": "sampler_name",
          "name": "sampler_name",
          "type": "COMBO",
          "widget": {
            "name": "sampler_name"
          },
          "link": null
        },
        {
          "localized_name": "scheduler",
          "name": "scheduler",
          "type": "COMBO",
          "widget": {
            "name": "scheduler"
          },
          "link": null
        },
        {
          "localized_name": "denoise",
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "LATENT",
          "localized_name": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "KSampler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        797010034835735,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ],
      "class_type": "KSampler"
    },
    {
      "id": 37,
      "type": "UNETLoader",
      "pos": [
        -400,
        80
      ],
      "size": [
        337.76861572265625,
        82
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "unet_name",
          "name": "unet_name",
          "type": "COMBO",
          "widget": {
            "name": "unet_name"
          },
          "link": null
        },
        {
          "localized_name": "weight_dtype",
          "name": "weight_dtype",
          "type": "COMBO",
          "widget": {
            "name": "weight_dtype"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "MODEL",
          "localized_name": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            58
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models",
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "flux1-kontext-dev.safetensors",
        "fp8_e4m3fn"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "class_type": "UNETLoader"
    },
    {
      "id": 189,
      "type": "DeepTranslatorTextNode",
      "pos": [
        -363.5946044921875,
        817.7066040039062
      ],
      "size": [
        282.5438232421875,
        340
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "from_translate",
          "name": "from_translate",
          "type": "COMBO",
          "widget": {
            "name": "from_translate"
          },
          "link": null
        },
        {
          "localized_name": "to_translate",
          "name": "to_translate",
          "type": "COMBO",
          "widget": {
            "name": "to_translate"
          },
          "link": null
        },
        {
          "localized_name": "add_proxies",
          "name": "add_proxies",
          "type": "BOOLEAN",
          "widget": {
            "name": "add_proxies"
          },
          "link": null
        },
        {
          "localized_name": "proxies",
          "name": "proxies",
          "type": "STRING",
          "widget": {
            "name": "proxies"
          },
          "link": null
        },
        {
          "localized_name": "auth_data",
          "name": "auth_data",
          "type": "STRING",
          "widget": {
            "name": "auth_data"
          },
          "link": null
        },
        {
          "localized_name": "service",
          "name": "service",
          "type": "COMBO",
          "widget": {
            "name": "service"
          },
          "link": null
        },
        {
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "text",
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "links": [
            295
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_custom_nodes_alekpet",
        "ver": "1.0.70",
        "Node name for S&R": "DeepTranslatorTextNode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "auto",
        "english",
        false,
        "",
        "",
        "GoogleTranslator",
        "\u53d8\u6210\u5409\u535c\u529b\u98ce\u683c",
        "proxy_hide",
        "authorization_hide",
        [
          false,
          true
        ],
        [
          false,
          true
        ],
        [
          false,
          true
        ]
      ],
      "color": "#232",
      "bgcolor": "#353",
      "class_type": "DeepTranslatorTextNode"
    },
    {
      "id": 200,
      "type": "LoadImage",
      "pos": [
        -1333.94482421875,
        545.2479248046875
      ],
      "size": [
        352.69757080078125,
        634.4293212890625
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "image",
          "name": "image",
          "type": "COMBO",
          "widget": {
            "name": "image"
          },
          "link": null
        },
        {
          "localized_name": "upload",
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "widget": {
            "name": "upload"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            316
          ]
        },
        {
          "label": "MASK",
          "localized_name": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "LoadImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "c06d5986f72fce08e59ebe3c1c857bf1accd08c50ff6d3171dffa06287b56aad.png",
        "image"
      ],
      "color": "#323",
      "bgcolor": "#535",
      "class_type": "LoadImage"
    },
    {
      "id": 191,
      "type": "PreviewImage",
      "pos": [
        1488.73046875,
        754.0109252929688
      ],
      "size": [
        514.5087890625,
        794.9255981445312
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 315
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [],
      "class_type": "PreviewImage"
    },
    {
      "id": 136,
      "type": "SaveImage",
      "pos": [
        1023.5300903320312,
        746.8244018554688
      ],
      "size": [
        463.9927062988281,
        771.8112182617188
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 240
        },
        {
          "localized_name": "filename_prefix",
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": null
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "SaveImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "ComfyUI"
      ],
      "class_type": "SaveImage"
    },
    {
      "id": 146,
      "type": "ImageStitch",
      "pos": [
        -371.3874816894531,
        585.8738403320312
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "label": "image1",
          "localized_name": "image1",
          "name": "image1",
          "type": "IMAGE",
          "link": 302
        },
        {
          "label": "image2",
          "localized_name": "image2",
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 304
        },
        {
          "localized_name": "direction",
          "name": "direction",
          "type": "COMBO",
          "widget": {
            "name": "direction"
          },
          "link": null
        },
        {
          "localized_name": "match_image_size",
          "name": "match_image_size",
          "type": "BOOLEAN",
          "widget": {
            "name": "match_image_size"
          },
          "link": null
        },
        {
          "localized_name": "spacing_width",
          "name": "spacing_width",
          "type": "INT",
          "widget": {
            "name": "spacing_width"
          },
          "link": null
        },
        {
          "localized_name": "spacing_color",
          "name": "spacing_color",
          "type": "COMBO",
          "widget": {
            "name": "spacing_color"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            312,
            313
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "ImageStitch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ],
      "class_type": "ImageStitch"
    },
    {
      "id": 180,
      "type": "MarkdownNote",
      "pos": [
        -1430,
        40
      ],
      "size": [
        450,
        450
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "\u2728 New ComfyUI feature for Flux.1 Kontext Dev",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "\nWe have added an **Edit** button to the **Selection Toolbox** of the node for **FLUX.1 Kontext Image Edit** support. When clicked, it quickly adds a **FLUX.1 Kontext Image Edit** group node to the Latent output of your current workflow. This enables an interactive editing experience where you can:\n\n- Create multiple editing iterations, each preserved as a separate node\n- Easily branch off from any previous edit point to explore different creative directions\n- Return to any earlier version and start a new editing branch\n- Modify parameters in earlier nodes and automatically update all downstream edits\n- Execute or re-execute any branch of edits at any time\n- When you want to maintain the effect of the corresponding branch, please set the seed of the corresponding group node to fixed.\n\n\nThis workflow mirrors the iterative nature of LLM conversations, but with the added advantage of visual editing and the ability to maintain multiple parallel editing paths.\n\n"
      ],
      "color": "#322",
      "bgcolor": "#533",
      "class_type": "MarkdownNote"
    },
    {
      "id": 184,
      "type": "MarkdownNote",
      "pos": [
        -960,
        40
      ],
      "size": [
        510,
        400
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model links",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "[tutorial]\n\n(http://docs.comfy.org/tutorials/flux/flux-1-kontext-dev) | (http://docs.comfy.org/zh-CN/tutorials/flux/flux-1-kontext-dev)\n\n**diffusion model**\n\n- [flux1-dev-kontext_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors)\n\n**vae**\n\n- [ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/blob/main/split_files/vae/ae.safetensors)\n\n**text encoder**\n\n- [clip_l.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors)\n- [t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors) or [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors)\n\nModel Storage Location\n\n```\n\ud83d\udcc2 ComfyUI/\n\u251c\u2500\u2500 \ud83d\udcc2 models/\n\u2502   \u251c\u2500\u2500 \ud83d\udcc2 diffusion_models/\n\u2502   \u2502   \u2514\u2500\u2500 flux1-dev-kontext_fp8_scaled.safetensors\n\u2502   \u251c\u2500\u2500 \ud83d\udcc2 vae/\n\u2502   \u2502   \u2514\u2500\u2500 ae.safetensor\n\u2502   \u2514\u2500\u2500 \ud83d\udcc2 text_encoders/\n\u2502       \u251c\u2500\u2500 clip_l.safetensors\n\u2502       \u2514\u2500\u2500 t5xxl_fp16.safetensors t5xxl_fp8_e4m3fn_scaled.safetensors\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "class_type": "MarkdownNote"
    },
    {
      "id": 185,
      "type": "MarkdownNote",
      "pos": [
        -960.662841796875,
        488.453369140625
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About VRAM",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "For reference:\n- **fp8_scaled**: Requires about 20GB of VRAM.\n- **Original**: Requires about 32GB of VRAM.\n\n"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "class_type": "MarkdownNote"
    },
    {
      "id": 178,
      "type": "MarkdownNote",
      "pos": [
        -30,
        -150
      ],
      "size": [
        540,
        150
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About multiple images reference",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        " In addition to using **Image Stitch** to combine two images at a time, you can also encode individual images, then concatenate multiple latent conditions using the **ReferenceLatent** node, thus achieving the purpose of referencing multiple images. You can use the **EmptySD3LatentImage** node on the right to connect to **KSamper** and customize the size of the **latent_image**.\n"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "class_type": "MarkdownNote"
    },
    {
      "id": 175,
      "type": "MarkdownNote",
      "pos": [
        -51.01524353027344,
        650.1527099609375
      ],
      "size": [
        320,
        88
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About Flux Kontext Edit",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Use Ctrl + B to enable multipule image input.\n"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "class_type": "MarkdownNote"
    }
  ],
  "links": [
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      57,
      35,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      58,
      37,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      59,
      38,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      61,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      223,
      39,
      0,
      124,
      1,
      "VAE"
    ],
    [
      237,
      6,
      0,
      135,
      0,
      "CONDITIONING"
    ],
    [
      238,
      135,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      240,
      8,
      0,
      136,
      0,
      "IMAGE"
    ],
    [
      291,
      124,
      0,
      31,
      3,
      "LATENT"
    ],
    [
      292,
      177,
      0,
      35,
      0,
      "CONDITIONING"
    ],
    [
      293,
      124,
      0,
      177,
      1,
      "LATENT"
    ],
    [
      294,
      6,
      0,
      177,
      0,
      "CONDITIONING"
    ],
    [
      295,
      189,
      0,
      6,
      1,
      "STRING"
    ],
    [
      302,
      194,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      303,
      147,
      0,
      195,
      0,
      "IMAGE"
    ],
    [
      304,
      195,
      0,
      146,
      1,
      "IMAGE"
    ],
    [
      310,
      197,
      0,
      124,
      0,
      "IMAGE"
    ],
    [
      311,
      197,
      0,
      198,
      0,
      "IMAGE"
    ],
    [
      312,
      146,
      0,
      199,
      0,
      "IMAGE"
    ],
    [
      313,
      146,
      0,
      197,
      0,
      "IMAGE"
    ],
    [
      314,
      197,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      315,
      42,
      0,
      191,
      0,
      "IMAGE"
    ],
    [
      316,
      200,
      0,
      194,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step 1- Load models",
      "bounding": [
        -410,
        10,
        360,
        450
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Step 2 - Upload images",
      "bounding": [
        -410,
        480,
        700,
        680
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Step 3 - Prompt",
      "bounding": [
        310,
        480,
        416.4869384765625,
        219.43862915039062
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Conditioning",
      "bounding": [
        -30,
        10,
        540,
        250
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "VHS_KeepIntermediate": true,
    "VHS_MetadataImage": true,
    "ue_links": [],
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "frontendVersion": "1.23.3",
    "VHS_latentpreview": true,
    "groupNodes": {},
    "ds": {
      "scale": 0.45,
      "offset": [
        1716.2004287154587,
        109.79790732301319
      ]
    }
  },
  "version": 0.4
}